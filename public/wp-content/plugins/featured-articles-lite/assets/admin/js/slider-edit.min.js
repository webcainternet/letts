!function(a){a(document).ready(function(){e(),f(),i(),h(),g(),j(),k(),l(),d(),c(),b()});var b=function(){a(document).on("click","#fa-remove-default-slider-image",function(b){b.preventDefault();var c=a(this).data("post_id"),d=faEditSlider.rem_slider_default_img,e={post_id:c,action:d.action};e[d.nonce.name]=d.nonce.nonce,a.ajax({url:ajaxurl,data:e,dataType:"json",type:"POST",success:function(b){b.success&&a("#fa-slides-default-image").html(b.data)}})})},c=function(){a(".edit-exp_timestamp").click(function(b){b.preventDefault(),a("#timestamp_exp_div").show("fast"),a(this).hide()}),a(".save-exp-timestamp, .cancel-exp-timestamp").click(function(b){b.preventDefault(),a("#timestamp_exp_div").hide("fast"),a(".edit-exp_timestamp").show()})},d=function(){var b=a(".fa-horizontal-tabs input.toggler");a.each(b,function(){var b=a(this).data("toggle"),c=a(".fa-horizontal-tabs ."+b),d=a(this).data("show"),e=a(this).data("hide"),f=!1,g=!1;d&&(f=a(".fa-horizontal-tabs ."+d)),e&&(g=a(".fa-horizontal-tabs ."+e)),a(this).click(function(){var b=a(this).data("action")?a(this).data("action"):"show";if(a(this).is(":checked")){"show"==b?a(c).show(800):a(c).hide(500);var d=a(c).find("input.toggler");d&&"show"==b&&a.each(d,function(){a(this).is(":checked")&&a(this).trigger("click")}),f&&a(f).show(),g&&a(g).hide()}else if("show"==b)a(c).hide(500);else{a(c).show(800);var d=a(c).find("input.toggler");d&&a.each(d,function(){if(a(this).is(":checked")){var b=a(this).data("toggle");a(".fa-horizontal-tabs ."+b).hide()}})}})})},e=function(){var b=a("#fa-registered-themes .fa-theme"),c=a("#fa-registered-themes .fa-select"),d=a("#fa-registered-themes .fa-customize"),e=a("#fa_active_theme"),f=a(".fa-horizontal-tabs tr.optional");if(a(c).click(function(g){g.preventDefault();var h=a(this).data("theme"),i=a("#fa-theme-"+h),j=a(".layout-color-variations");a(j).hide(),a("#layout-classes-"+h).show(),a.each(f,function(){var b=a(this).data("theme_disable").split(","),c=a(this).data("theme_enable").split(","),d=a(this).find(".toggler");if(-1!=a.inArray(h,c)){var e=a(this).find(".fa-optional-field-enabled"),f=a(this).find(".fa-optional-field-disabled");a(e).show(),a(f).hide(),a.each(d,function(){var b=a(this).data("toggle"),c=a(".fa-horizontal-tabs ."+b);a(this).is(":checked")?a(c).show():a(c).hide()})}if(-1!=a.inArray(h,b)){var f=a(this).find(".fa-optional-field-enabled"),e=a(this).find(".fa-optional-field-disabled");a(e).show(),a(f).hide(),a.each(d,function(){var b=a(this).data("toggle"),c=a(".fa-horizontal-tabs ."+b);a(c).show()})}}),a(e).val(h),a(b).removeClass("active"),a(i).addClass("active"),a(d).hide(),a(c).show(),a(i).find(".fa-customize").show(),a(this).hide(),a(".theme-settings").hide(),a(".theme-settings."+h).show()}),a.each(d,function(){var b;a(this).click(function(b){b.preventDefault();var c=a("form#post"),d=a("input#wp-preview"),e=a("input#wp-content");target=a(this).attr("target"),d.val("dopreview"),e.val("last saved @ "+new Date),c.attr({target:target}).submit().attr({target:""}),d.val(""),e.val("")}).mouseup(function(){a(this).attr("href",b)})}),"undefined"!=typeof Storage)var g={active:sessionStorage.fapro_theme_tab_active,activate:function(a,b){sessionStorage.fapro_theme_tab_active=b.newTab.index()},create:function(){}};else var g={};a("#fa-themes-tabs").tabs(g)},f=function(){var b=a("input[name='slides[type]']");a("#fa-slider-content-tabs").tabs(),a(b).click(function(){var c=this;a.each(b,function(){var b=a(this).data("panel");c===this?a("#"+b).show():a("#"+b).hide(),a("#fa-slider-content-tabs").tabs("option","active",0)})})},g=function(){var b,c,d=a(".fapro-modal-trigger.fa-slide-edit"),e=a("#fa-selected-posts");d.length>0&&a.each(d,function(d,f){var h=a(f).FA_Modal({hide_action:!0,close_txt:faEditSlider.messages.close_modal,title_txt:a(this).data("modal_title")||faEditSlider.messages.title_edit_post,closeOnAction:!1,iframeLoaded:function(d){b=a(d.iframe).contents(),c=a(b).find("#post_ID").val(),a(b).find("#delete-action a.submitdelete").click(function(){var c=a(b).find("#post_ID").val();"mixed"==a(this).data("type")?a("#fa-selected-posts").find("#post-"+c).remove():a("#fa-selected-images").find("#attachment-"+c).remove(),h.close()})},doAction:function(){},onClose:function(){var b=a(this).data("slide_id"),d=a(this).data("slider_id"),f=!1;"new-custom-slide"==b&&(b=c,f=!0);var h={post_id:b,slider_id:d,action:"mixed"==a(this).data("type")?faEditSlider.assign_slide_ajax_action:faEditSlider.assign_image_ajax_action};"mixed"==a(this).data("type")?h[faEditSlider.assign_slide_wp_nonce.name]=faEditSlider.assign_slide_wp_nonce.nonce:(h[faEditSlider.assign_image_nonce.name]=faEditSlider.assign_image_nonce.nonce,h.images=b,e=a("#fa-selected-images"));var i="mixed"==a(this).data("type")?"#post-":"#attachment-";a.ajax({url:ajaxurl,data:h,dataType:"json",type:"POST",success:function(c){if(c.success){var d=a(e).find(i+b);d.length>0?(a(d).replaceWith(c.data),g()):f&&(a(e).append(c.data),g(),f=!1)}}})}})})};window.fa_edit_slides=function(){g()};var h=function(){a("#fa-selected-images").sortable({cancel:"a",containment:"parent",cursor:"move",distance:10,items:".fa-slide-image",opacity:.9,revert:!1,tolerance:"pointer",serialize:{key:"attachment-"},update:function(){}}),a("#fa-selected-images").on("click",".fa-image-remove",function(b){b.preventDefault(),a(this).parent().remove(),a("#fa-selected-images").sortable("refresh")})},i=function(){var b,c=a("#fa-selected-posts");a("#fa-selected-posts").sortable({cancel:"a",containment:"parent",cursor:"move",distance:10,items:".fa-slide",opacity:.9,revert:!1,tolerance:"pointer",serialize:{key:"post-id-"},update:function(){}}),a("#fa-selected-posts").on("click",".fa-slide-remove",function(b){b.preventDefault(),a(this).parent().remove(),a("#fa-selected-posts").sortable("refresh")}),a("#fa-select-mixed-content").FA_Modal({hide_action:!0,close_txt:faEditSlider.messages.close_modal,title_txt:faEditSlider.messages.title_slides,iframeLoaded:function(c){b=a(c.iframe).contents(),d(),e()},doAction:function(){},onClose:function(){a(c).find("p.description").remove()}});var d=function(){var d=a(c).find(".fa-slide");d.length<1||a.each(d,function(){var c=a(this).data("post_id");b.find("#cb-select-"+c).attr("checked","checked")})},e=function(){var d=b.find("input[type='checkbox'][name^='select_posts']"),e=b.find("input[type='checkbox'][id^='cb-select-all']");a(d).change(function(){var b=a(this).data("post_id"),d=a(this).is(":checked");if(d){var e={post_id:b,slider_id:a("#post_ID").val(),action:faEditSlider.assign_slide_ajax_action};e[faEditSlider.assign_slide_wp_nonce.name]=faEditSlider.assign_slide_wp_nonce.nonce,a.ajax({url:ajaxurl,data:e,dataType:"json",type:"POST",success:function(d){if(d.success){var e=a(c).find("#post-"+b);0==e.length&&(a(c).append(d.data),g())}}})}else a(c).find("#post-"+b).remove(),a("#fa-selected-posts").sortable("refresh")}),a(d).click(function(b){b.shiftKey&&setTimeout(function(){a(d).trigger("change")},1e3)}),a(e).change(function(){setTimeout(function(){a(d).trigger("change")},1e3)})}},j=function(){var b,c=a("#fa-selected-categories");a(document).on("click",".fa_remove_tag",function(b){b.preventDefault();var d=a(this).parent().data("taxonomy");a(this).parent().remove();var e=a("#fa-tax-"+d).children(".fa-term");0==e.length&&a("#fa-tax-"+d).hide();var f=a(c).find("[id^='fa_term_']");0==f.length?a("#fa-all-categories").show():a("#fa-all-categories").hide()}),a(document).on("mouseenter",".fa_remove_tag",function(){a(this).parent().addClass("remove")}).on("mouseleave",".fa_remove_tag",function(){a(this).parent().removeClass("remove")}),a("#fa-content-posts-categories").FA_Modal({hide_action:!0,close_txt:faEditSlider.messages.close_modal,title_txt:faEditSlider.messages.title_categories,iframeLoaded:function(c){b=a(c.iframe).contents(),d(),e(c)},doAction:function(){},onClose:function(){var b=a(c).find("[id^='fa_term_']");0==b.length?a("#fa-all-categories").show():a("#fa-all-categories").hide()}});var d=function(){var d=a(c).find(".fa-term");d.length<1||a.each(d,function(){var c=a(this).data("term_id");b.find("#cb-select-"+c).attr("checked","checked")})},e=function(){var d=b.find("input[type='checkbox'][name^='select_tags']"),e=b.find("input[type='checkbox'][id^='cb-select-all']");a("#fa-all-categories").hide(),a(d).change(function(){var d=(a(this).data("post_type"),a(this).data("taxonomy")),e=a(this).data("term_id"),g=b.find("#fa-name-"+e).html(),h=a(this).is(":checked");if(h){var i=a(c).find("#fa_term_"+e);0==i.length&&a(c).find("#fa-tax-"+d).show().append(f(g,d,e))}else{a(c).find("#fa_term_"+e).remove();var j=a(c).find("#fa-tax-"+d).children(".fa-term");0==j.length&&a(c).find("#fa-tax-"+d).hide()}}),a(e).change(function(){a(d).trigger("change")})},f=function(a,b,c){var d='<span class="fa-term" data-term_id="'+c+'" data-taxonomy="'+b+'" id="fa_term_'+c+'">';return d+='<a href="#" class="fa_remove_tag"><i class="dashicons dashicons-dismiss"></i></a> '+a,d+='<input type="hidden" name="slides[tags]['+b+'][]" value="'+c+'" />',d+="</span>"}},k=function(){var b,c=a("#fa-selected-display-categories");a(document).on("click",".fa_remove_display_tag",function(b){b.preventDefault();var d=a(this).parent().data("taxonomy");a(this).parent().remove();var e=a("#fa-display-tax-"+d).children(".fa-term");0==e.length&&a("#fa-display-tax-"+d).hide();var f=a(c).find("[id^='fa_display_term_']");0==f.length?a("#fa-all-display-categories").show():a("#fa-all-display-categories").hide()}),a(document).on("mouseenter",".fa_remove_display_tag",function(){a(this).parent().addClass("remove")}).on("mouseleave",".fa_remove_display_tag",function(){a(this).parent().removeClass("remove")}),a("#fa-display-posts-categories").FA_Modal({hide_action:!0,close_txt:faEditSlider.messages.close_modal,title_txt:faEditSlider.messages.title_categories,iframeLoaded:function(c){b=a(c.iframe).contents(),d(),e(c)},doAction:function(){},onClose:function(){var b=a(c).find("[id^='fa_display_term_']");0==b.length?a("#fa-all-display-categories").show():a("#fa-all-display-categories").hide()}});var d=function(){var d=a(c).find(".fa-term");d.length<1||a.each(d,function(){var c=a(this).data("term_id");b.find("#cb-select-"+c).attr("checked","checked")})},e=function(){var d=b.find("input[type='checkbox'][name^='select_tags']"),e=b.find("input[type='checkbox'][id^='cb-select-all']");a("#fa-all-display-categories").hide(),a(d).change(function(){var d=(a(this).data("post_type"),a(this).data("taxonomy")),e=a(this).data("term_id"),g=b.find("#fa-name-"+e).html(),h=a(this).is(":checked");if(h){var i=a(c).find("#fa_display_term_"+e);0==i.length&&a(c).find("#fa-display-tax-"+d).show().append(f(g,d,e))}else{a(c).find("#fa_display_term_"+e).remove();var j=a(c).find("#fa-display-tax-"+d).children(".fa-term");0==j.length&&a(c).find("#fa-display-tax-"+d).hide()}}),a(e).change(function(){a(d).trigger("change")})},f=function(a,b,c){var d='<span class="fa-term" data-term_id="'+c+'" data-taxonomy="'+b+'" id="fa_display_term_'+c+'">';return d+='<a href="#" class="fa_remove_display_tag"><i class="dashicons dashicons-dismiss"></i></a> '+a,d+='<input type="hidden" name="display[tax]['+b+'][]" value="'+c+'" />',d+="</span>"}},l=function(){var b,c=a("#fa-selected-display-posts");a(document).on("click",".fa_remove_display_post",function(b){b.preventDefault();var d=a(this).parent().data("post_type");a(this).parent().remove();var e=a("#fa-display-posts-"+d).children(".fa-post");0==e.length&&a("#fa-display-posts-"+d).hide();var f=a(c).find("[id^='fa_display_post_']");0==f.length?a("#fa-all-display-posts").show():a("#fa-all-display-posts").hide()}),a(document).on("mouseenter",".fa_remove_display_post",function(){a(this).parent().addClass("remove")}).on("mouseleave",".fa_remove_display_post",function(){a(this).parent().removeClass("remove")}),a("#fa-display-posts").FA_Modal({hide_action:!0,close_txt:faEditSlider.messages.close_modal,title_txt:faEditSlider.messages.title_categories,iframeLoaded:function(c){b=a(c.iframe).contents(),d(),e(c)},doAction:function(){},onClose:function(){var b=a(c).find("[id^='fa_display_post_']");0==b.length?a("#fa-all-display-posts").show():a("#fa-all-display-posts").hide()}});var d=function(){var d=a(c).find(".fa-post");d.length<1||a.each(d,function(){var c=a(this).data("post_id");b.find("#cb-select-"+c).attr("checked","checked")})},e=function(){var d=b.find("input[type='checkbox'][name^='select_posts']"),e=b.find("input[type='checkbox'][id^='cb-select-all']");a("#fa-all-display-posts").hide(),a(d).change(function(){var d=a(this).data("post_type"),e=a(this).data("post_id"),g=b.find("#fa-name-"+e).html(),h=a(this).is(":checked");if(h){var i=a(c).find("#fa_display_post_"+e);0==i.length&&a(c).find("#fa-display-posts-"+d).show().append(f(g,d,e))}else{a(c).find("#fa_display_post_"+e).remove();var j=a(c).find("#fa-display-posts-"+d).children(".fa-post");0==j.length&&a(c).find("#fa-display-posts-"+d).hide()}}),a(e).change(function(){a(d).trigger("change")})},f=function(a,b,c){var d='<span class="fa-post" data-post_id="'+c+'" data-post_type="'+b+'" id="fa_display_post_'+c+'">';return d+='<a href="#" class="fa_remove_display_post"><i class="dashicons dashicons-dismiss"></i></a> '+a,d+='<input type="hidden" name="display[posts]['+b+'][]" value="'+c+'" />',d+="</span>"}}}(jQuery);